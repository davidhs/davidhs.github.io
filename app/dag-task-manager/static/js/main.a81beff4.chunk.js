(this["webpackJsonpgtm-react-ui"]=this["webpackJsonpgtm-react-ui"]||[]).push([[0],Array(19).concat([function(e,t,n){e.exports=n(52)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"VERIFICATION_LEVEL_NONE",(function(){return ve})),n.d(r,"VERIFICATION_LEVEL_MINIMAL",(function(){return he})),n.d(r,"VERIFICATION_LEVEL_MAX",(function(){return ge})),n.d(r,"setup",(function(){return ke})),n.d(r,"verifyState",(function(){return Ee})),n.d(r,"hasEntity",(function(){return _e})),n.d(r,"verifyEntity",(function(){return we})),n.d(r,"getEntity",(function(){return xe})),n.d(r,"addEntity",(function(){return Te})),n.d(r,"removeEntity",(function(){return De})),n.d(r,"doExport",(function(){return je})),n.d(r,"doImport",(function(){return Oe})),n.d(r,"getNextID",(function(){return Ce})),n.d(r,"getState",(function(){return Se})),n.d(r,"beginTransaction",(function(){return Ne})),n.d(r,"endTransaction",(function(){return Ae})),n.d(r,"migrate",(function(){return Le}));var a={};n.r(a),n.d(a,"createCalendar",(function(){return Be})),n.d(a,"getCalendar",(function(){return Je})),n.d(a,"verify",(function(){return Ge}));var o={};n.r(o),n.d(o,"createDependency",(function(){return We})),n.d(o,"getDependency",(function(){return Me})),n.d(o,"verify",(function(){return He}));var i={};n.r(i),n.d(i,"createEvent",(function(){return Fe})),n.d(i,"getEvent",(function(){return ze})),n.d(i,"verify",(function(){return Ve}));var s={};n.r(s),n.d(s,"createLink",(function(){return qe})),n.d(s,"getLink",(function(){return Ke})),n.d(s,"verify",(function(){return Xe}));var c={};n.r(c),n.d(c,"createNote",(function(){return Qe})),n.d(c,"changeText",(function(){return Ye})),n.d(c,"getNote",(function(){return Ze})),n.d(c,"verify",(function(){return $e}));var u={};n.r(u),n.d(u,"createPoset",(function(){return et})),n.d(u,"getPoset",(function(){return tt})),n.d(u,"verify",(function(){return nt}));var l={};n.r(l),n.d(l,"createReminder",(function(){return rt})),n.d(l,"getReminder",(function(){return at})),n.d(l,"verify",(function(){return ot}));var d={};n.r(d),n.d(d,"_verifyDependencyGraph",(function(){return st})),n.d(d,"_updateTask",(function(){return ct})),n.d(d,"doesPathThroughDependenciesExist",(function(){return ut})),n.d(d,"createTask",(function(){return lt})),n.d(d,"reorderDependents",(function(){return dt})),n.d(d,"reorderDependencies",(function(){return ft})),n.d(d,"addDependency",(function(){return mt})),n.d(d,"addDependent",(function(){return pt})),n.d(d,"removeDependency",(function(){return vt})),n.d(d,"removeDependent",(function(){return ht})),n.d(d,"removeComment",(function(){return gt})),n.d(d,"addComment",(function(){return kt})),n.d(d,"getComment",(function(){return bt})),n.d(d,"changePriority",(function(){return yt})),n.d(d,"changeDueDate",(function(){return Et})),n.d(d,"removeDueDate",(function(){return _t})),n.d(d,"changeDescription",(function(){return wt})),n.d(d,"changeComment",(function(){return xt})),n.d(d,"getDescendantIDs",(function(){return Tt})),n.d(d,"getPossibleDependencyIDs",(function(){return Dt})),n.d(d,"getPossibleDependentIDs",(function(){return jt})),n.d(d,"addTag",(function(){return Ot})),n.d(d,"removeTag",(function(){return Ct})),n.d(d,"listTaskIDs",(function(){return St})),n.d(d,"listTasks",(function(){return Nt})),n.d(d,"rewindTask",(function(){return At})),n.d(d,"getTaskSelfWorktime",(function(){return Pt})),n.d(d,"getTotalDependencyGraph",(function(){return Rt})),n.d(d,"getTaskTotalWorktime",(function(){return It})),n.d(d,"removeTask",(function(){return Ut})),n.d(d,"archiveTask",(function(){return Lt})),n.d(d,"finishTask",(function(){return Bt})),n.d(d,"openTask",(function(){return Jt})),n.d(d,"deleteTask",(function(){return Gt})),n.d(d,"isTaskActive",(function(){return Wt})),n.d(d,"startTask",(function(){return Mt})),n.d(d,"stopTask",(function(){return Ht})),n.d(d,"stopAllTasks",(function(){return Ft})),n.d(d,"changeEstimatedTime",(function(){return zt})),n.d(d,"removeEstimatedTime",(function(){return Vt})),n.d(d,"getStatus",(function(){return qt})),n.d(d,"getSelfEstimatedTime",(function(){return Kt})),n.d(d,"getTotalEstimatedTime",(function(){return Xt})),n.d(d,"getActiveTaskIDs",(function(){return Yt})),n.d(d,"getTaskDependentIDs",(function(){return Zt})),n.d(d,"getTaskDependencyIDs",(function(){return $t})),n.d(d,"getActiveTasks",(function(){return en})),n.d(d,"hasDueDate",(function(){return tn})),n.d(d,"getDueDate",(function(){return nn})),n.d(d,"isOpen",(function(){return rn})),n.d(d,"isDone",(function(){return an})),n.d(d,"getDateDone",(function(){return on})),n.d(d,"isRemoved",(function(){return sn})),n.d(d,"getDateRemoved",(function(){return cn})),n.d(d,"isArchived",(function(){return un})),n.d(d,"getDateArchived",(function(){return ln})),n.d(d,"hasEstimatedTime",(function(){return dn})),n.d(d,"getEstimatedTime",(function(){return fn})),n.d(d,"isTask",(function(){return mn})),n.d(d,"hasTask",(function(){return pn})),n.d(d,"getTask",(function(){return vn})),n.d(d,"verify",(function(){return hn}));var f=n(3),m=n.n(f),p=n(5),v=n(0),h=n.n(v),g=n(8),k=n.n(g),b=n(1),y=n(7),E=n(2),_=n(9),w=n(10),x=n(12),T=n(11),D=n(6),j=n(13),O=(n(25),function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(x.a)(this,Object(T.a)(t).call(this,e))).state={value:e.value},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.children;return h.a.createElement("textarea",Object.assign({value:t,onChange:this.handleChange},this.props),n)}}]),t}(h.a.Component)),C=(n(26),function(e){var t=e.active,n=e.onChange;return h.a.createElement("button",{onClick:function(){n(!t)}},t?"\u23f8\ufe0f":"\u25b6\ufe0f")}),S=(n(27),function(e){var t=e.children,n=Object(b.a)(t,3),r=n[0],a=n[1],o=n[2];return h.a.createElement("div",{className:"hcf-layout__container"},h.a.createElement("div",{className:"hcf-layout__container__header"},r),h.a.createElement("div",{className:"hcf-layout__container__content"},a),h.a.createElement("div",{className:"hcf-layout__container__footer"},o))});function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed",n=arguments.length>2?arguments[2]:void 0;if(!e){if("string"===typeof t){var r=t;if("function"===typeof n){var a=n();"string"===typeof a&&(r=a)}throw new Error(r)}if("function"===typeof t){var o="Assertion failed",i=t();throw"string"===typeof i&&(o=i),N("undefined"===typeof n,"Assertion argument error: don't supply two callbacks!"),new Error(o)}throw console.error("Assertion argument error:",{condition:e,messageOrCallback:t}),new Error("Assertion argument error: condition: ".concat(e,", messageOrCallback: ").concat(t))}}function A(e){return null!==e&&"object"===typeof e}function P(e){return Array.isArray(e)}function R(e){var t=new URL(e),n=t.hash,r=t.host,a=t.hostname,o=t.href,i=t.origin,s=t.password,c=t.pathname,u=t.port,l=t.protocol,d=t.search,f=t.username,m={hash:n,host:r,hostname:a,href:o,origin:i,password:s,pathname:c,port:u,protocol:l,search:d,username:f,authority:"",fragment:"",query:"",userinfo:"",scheme:"",path:"",pathSegments:[],slug:"",queryPairs:[],queryObject:{},url:e};if(l.length>0&&(m.scheme=l.substring(0,l.length-1)),f.length>0||s.length>0)if(f.length>0&&0===s.length)m.userinfo=f;else if(f.length>0&&s.length>0)m.userinfo="".concat(f,":").concat(s);else{if(!(0===f.length&&s.length>0))throw new Error;m.userinfo=":".concat(s)}if(m.query=d.substring(1,d.length),m.fragment=n.substring(1,n.length),m.pathSegments=c.split("/"),m.pathSegments.shift(),m.slug=m.pathSegments[m.pathSegments.length-1],m.userinfo.length>0||m.port.length>0){if(0===m.hostname.length)throw new Error;var p=m.userinfo;p.length>0&&u.length>0?m.authority="".concat(p,"@").concat(a,":").concat(u):p.length>0&&0===u.length?m.authority="".concat(p,"@").concat(a):0===p.length&&u.length>0?m.authority="".concat(a,":").concat(u):m.authority=a}var v=!0,h=!1,g=void 0;try{for(var k,y=t.searchParams.entries()[Symbol.iterator]();!(v=(k=y.next()).done);v=!0){var E=k.value;m.queryPairs.push(E);var _=Object(b.a)(E,2),w=_[0],x=_[1];m.queryObject[w]=x}}catch(T){h=!0,g=T}finally{try{v||null==y.return||y.return()}finally{if(h)throw g}}return m.path=c,m}new Set(["has","starts-width","ends-with","not-starts-with"]);var I=function(){function e(e){return e<10?"0".concat(e):e}function t(e){return e<10?"00".concat(e):e<100?"0".concat(e):e}return function(n){var r=n,a=Math.floor(r/864e5);r-=864e5*a;var o=Math.floor(r/36e5);r-=36e5*o;var i=Math.floor(r/6e4);r-=6e4*i;var s=Math.floor(r/1e3);r-=1e3*s;var c=Math.floor(r/1);return 0===n?"0":n<6e4?"".concat(s,".").concat(t(c)):n<36e5?"".concat(i,":").concat(e(s),".").concat(t(c)):n<864e5?"".concat(o,":").concat(e(i),":").concat(e(s),".").concat(t(c)):"".concat(a," ").concat(e(o),":").concat(e(i),":").concat(e(s),".").concat(t(c))}}();n(28);var U=function(e){function t(e){var n;Object(_.a)(this,t);var r=(n=Object(x.a)(this,Object(T.a)(t).call(this,e))).props,a=r.gtm,o=r.navi,i=o.urlObj.pathSegments[1];N("string"===typeof i);var s=a.task.hasTask(i),c={url:o.url,description:"",id:i,toggle_remove_dependencies:!1,toggle_remove_dependents:!1,comments:[],to_delete:!1,animate:!1,animate_id:null,_i:0};if(s){var u=a.task.getTask(i);c.description=u.description,c.comments=Object(E.a)(u.comments)}return n.state=c,s||o.back(),n.handleChangeDescription=n.handleChangeDescription.bind(Object(D.a)(n)),n.handleCommentChange=n.handleCommentChange.bind(Object(D.a)(n)),n.animationCallback=n.animationCallback.bind(Object(D.a)(n)),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"animationCallback",value:function(){this.setState({_i:this.state._i+1})}},{key:"updateState",value:function(){var e=this.props,t=e.gtm,n=e.navi,r=n.urlObj.pathSegments[1];if(t.task.hasTask(r)){if(null===n.urlObj)throw new Error;var a=t.task.getTask(r);this.setState({description:a.description,id:r,comments:Object(E.a)(a.comments),to_delete:!1})}else n.back()}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.navi,a=this.state,o=a.animate,i=a.animate_id;if(r.url!==t.url){if(null===r.url)throw new Error;clearInterval(i),this.setState({url:r.url,animate:!1,animate_id:null}),this.updateState()}else if(o&&null===i){var s=setInterval(this.animationCallback,100);this.setState({animate:!0,animate_id:s})}else o||null===i||(clearInterval(i),this.setState({animate:!1,animate_id:null}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.animate_id)}},{key:"forceRerender",value:function(){var e=this.state._i;this.setState({_i:e+1})}},{key:"forceStatefulRerender",value:function(){var e=this.state;this.setState(Object(y.a)({},e))}},{key:"handleCommentChange",value:function(e,t){var n=this.props.gtm,r=this.state.id;if(n.task.hasTask(r)){n.task.changeComment(r,t,e);var a=n.task.getTask(r);this.setState({comments:Object(E.a)(a.comments)})}}},{key:"handleChangeDescription",value:function(e){var t=this.props.gtm,n=this.state.id;if(t.task.hasTask(n)){var r=e.target.value;t.task.changeDescription(n,r),this.setState({description:r})}}},{key:"render",value:function(){var e=this,t=this.state.id,n=this.props,r=n.gtm,a=n.navi;if(!r.task.hasTask(t))return a.back(),h.a.createElement("div",null,"...");var o=r.task.getTask(t),i=o.description,s=[],c=[],u=o.dependents,l=s,d=c;u.forEach((function(e){"open"===r.task.getTask(e).status?l.push(e):d.push(e)}));var f=[],m=[],p=o.dependencies,v=f,g=m;p.forEach((function(e){"open"===r.task.getTask(e).status?v.push(e):g.push(e)}));var k="open"===o.status,y=r.task.getTaskSelfWorktime(t),E=r.task.getTaskTotalWorktime(t),_=h.a.createElement("div",{key:1,className:"topBar page-edit-task__header"},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){a.back()}},"Go back"),h.a.createElement("span",null,"ID: ".concat(o.id))),h.a.createElement("div",null,this.state.to_delete?h.a.createElement("button",{onClick:function(){r.task.deleteTask(t),a.back()}},"Confirm deletion"):h.a.createElement("button",{onClick:function(){e.setState({to_delete:!0})}},"Delete")),h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){a.setURL("gtm:/tasklist/")}},"Go to task list"))),w=h.a.createElement("div",{key:"2"},h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Date created: ",new Date(o.date_created).toUTCString()),h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Date modified: ",new Date(o.date_modified).toUTCString()),h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Work time (self): ",I(y)," s"),h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Work time (total): ",I(E)," s"),h.a.createElement("div",{className:"page-edit-task__1"},h.a.createElement("div",{className:"page-edit-task__2"},"Description"),h.a.createElement("div",{className:"page-edit-task__4"},h.a.createElement(O,{className:"page-edit-task__3",value:i,onChange:this.handleChangeDescription,rows:12}))),h.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"var(--theme__task-edit-entry__margin-top)",marginBottom:"var(--theme__task-edit-entry__margin-bottom)",paddingBottom:"var(--theme__task-edit-entry__padding-bottom)",paddingLeft:"var(--theme__task-edit-entry__padding-left)",paddingRight:"var(--theme__task-edit-entry__padding-right)",border:"var(--theme__task-edit-entry__border)",boxShadow:"var(--theme__task-edit-entry__box-shadow)"}},h.a.createElement("div",{style:{display:"flex",flexDirection:"column",paddingTop:"var(--theme__task-edit-entry-header__padding-top)",paddingBottom:"var(--theme__task-edit-entry-header__padding-bottom)",marginBottom:"var(--theme__task-edit-entry-header__margin-bottom)",backgroundColor:"var(--theme__task-edit-entry-header__background-color)",boxShadow:"var(--theme__task-edit-entry-header__box-shadow)"}},h.a.createElement("div",{style:{marginTop:"4px",marginBottom:"8px",fontSize:"0.9rem",fontWeight:"bold"}},"Supertasks"),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("button",{onClick:function(){a.setURL("gtm:/edit-depend?".concat([["id",t],["type","dependent"],["mode","add"]].map((function(e){return e.map((function(e){return escape(e)})).join("=")})).join("&")))}},"Add"),h.a.createElement("button",{onClick:function(){a.setURL("gtm:/edit-depend?".concat([["id",t],["type","dependent"],["mode","remove"]].map((function(e){return e.map((function(e){return escape(e)})).join("=")})).join("&")))}},"Remove"))),h.a.createElement("span",{style:{fontSize:"0.8rem",marginBottom:"4px"}},"Open"),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},s.map((function(e){var t=r.task.getTask(e),n=t.description.length<=20?t.description.substring(0,20):t.description.substring(0,17)+"...",o="".concat(e,": ").concat(n);return h.a.createElement("button",{key:e,onClick:function(){console.info("Goto: gtm:/task/".concat(e)),a.setURL("gtm:/task/".concat(e))}},o)}))),h.a.createElement("span",{style:{fontSize:"0.8rem",marginBottom:"4px"}},"Non-open"),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},c.map((function(e){var t=r.task.getTask(e),n=t.description.length<=20?t.description.substring(0,20):t.description.substring(0,17)+"...",o="".concat(e,": ").concat(n);return h.a.createElement("button",{key:e,onClick:function(){console.info("Goto: gtm:/task/".concat(e)),a.setURL("gtm:/task/".concat(e))}},o)})))),h.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"var(--theme__task-edit-entry__margin-top)",marginBottom:"var(--theme__task-edit-entry__margin-bottom)",paddingBottom:"var(--theme__task-edit-entry__padding-bottom)",paddingLeft:"var(--theme__task-edit-entry__padding-left)",paddingRight:"var(--theme__task-edit-entry__padding-right)",border:"var(--theme__task-edit-entry__border)",boxShadow:"var(--theme__task-edit-entry__box-shadow)"}},h.a.createElement("div",{style:{display:"flex",flexDirection:"column",paddingTop:"var(--theme__task-edit-entry-header__padding-top)",paddingBottom:"var(--theme__task-edit-entry-header__padding-bottom)",marginBottom:"var(--theme__task-edit-entry-header__margin-bottom)",backgroundColor:"var(--theme__task-edit-entry-header__background-color)",boxShadow:"var(--theme__task-edit-entry-header__box-shadow)"}},h.a.createElement("div",{style:{marginTop:"4px",marginBottom:"8px",fontSize:"0.9rem",fontWeight:"bold"}},"Subtasks"),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("button",{onClick:function(){a.setURL("gtm:/edit-depend?".concat([["id",t],["type","dependency"],["mode","add"]].map((function(e){return e.map((function(e){return escape(e)})).join("=")})).join("&")))}},"Add"),h.a.createElement("button",{onClick:function(){a.setURL("gtm:/edit-depend?".concat([["id",t],["type","dependency"],["mode","remove"]].map((function(e){return e.map((function(e){return escape(e)})).join("=")})).join("&")))}},"Remove"))),h.a.createElement("div",{style:{display:"flex",flexDirection:"column",style:{backgroundColor:"rgb(230, 230, 230)",marginBottom:"4px"}}},h.a.createElement("span",{style:{fontSize:"0.8rem",marginBottom:"4px"}},"Open"),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",minHeight:"4px"}},f.map((function(e){var t=r.task.getTask(e),n=t.description.length<=20?t.description.substring(0,20):t.description.substring(0,17)+"...",o="".concat(e,": ").concat(n);return h.a.createElement("button",{key:e,onClick:function(){console.info("Goto: gtm:/task/".concat(e)),a.setURL("gtm:/task/".concat(e))}},o)})))),h.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},h.a.createElement("span",{style:{fontSize:"0.8rem",marginBottom:"4px"}},"Non-open"),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},m.map((function(e){var t=r.task.getTask(e),n=t.description.length<=20?t.description.substring(0,20):t.description.substring(0,17)+"...",o="".concat(e,": ").concat(n);return h.a.createElement("button",{key:e,onClick:function(){a.setURL("gtm:/task/".concat(e))}},o)}))))),h.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"8px",marginBottom:"8px",backgroundColor:"#f0f0f0",paddingTop:"4px",paddingBottom:"4px"}},"Due date",r.task.hasDueDate(t)?h.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},h.a.createElement("button",{onClick:function(){a.setURL("gtm:/date/task/".concat(t,"/date_due"))}},r.task.getDueDate(t)),h.a.createElement("button",{onClick:function(){r.task.removeDueDate(t),e.forceStatefulRerender()}},"Remove")):h.a.createElement("button",{onClick:function(){r.task.changeDueDate(t,(new Date).toJSON()),e.forceStatefulRerender()}},"Set due date")),r.task.isDone(t)?h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Date done: ".concat(r.task.getDateDone(t))):null,r.task.isRemoved(t)?h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Date removed: ".concat(r.task.getDateRemoved(t))):null,r.task.isArchived(t)?h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Date archived: ".concat(r.task.getDateArchived(t))):null,r.task.hasDueDate(t)?h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Date due: ".concat(r.task.getDueDate(t))):null,h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Estimated time:",r.task.hasEstimatedTime(t)?h.a.createElement("input",{type:"number",value:r.task.getEstimatedTime(t),onChange:function(n){var a=parseInt(n.target.value,10);Number.isFinite(a)&&(r.task.changeEstimatedTime(t,a),e.forceStatefulRerender())}}):h.a.createElement("button",{onClick:function(){r.task.changeEstimatedTime(t,0),e.forceStatefulRerender()}},"Set estimated time")),h.a.createElement("div",{style:{border:"1px solid var(--missing)",marginTop:"8px",marginBottom:"8px"}},"Priority",h.a.createElement("input",{type:"number",value:o.priority,onChange:function(e){console.info(e)}})),h.a.createElement("div",{style:{border:"1px solid var(--missing)"}},"Status: ".concat(o.status)),h.a.createElement("div",{style:{display:"flex",flexDirection:"column",border:"1px solid var(--missing)",marginTop:"8px",marginBottom:"8px"}},"Work time:",h.a.createElement("ul",{style:{fontSize:"0.75rem"}},o.worktime.map((function(e,t){if(2===e.length){var n=Object(b.a)(e,2),r=n[0],a=n[1];return h.a.createElement("div",{key:t},r," - ",a)}if(1===e.length){var o=Object(b.a)(e,1)[0];return h.a.createElement("div",{key:t},o," -")}throw new Error})))),h.a.createElement("div",{style:{display:"flex",flexDirection:"column",border:"1px solid var(--missing)"}},"Comments:",o.comments.map((function(t,n){var a=r.note.getNote(t).text;return h.a.createElement("textarea",{key:n,value:a,rows:10,onChange:function(t){e.handleCommentChange(t.target.value,n)}})})),h.a.createElement("button",{onClick:function(){r.task.addComment(t),e.forceStatefulRerender()}},"Add comment"))),x=h.a.createElement("div",{key:3,className:"bottomBar",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){k?r.task.finishTask(t):r.task.openTask(t),e.forceStatefulRerender()}},k?"Finish":"Re-open")),h.a.createElement("div",null,h.a.createElement(C,{active:r.task.isTaskActive(t),onChange:function(n){if(n){r.task.stopAllTasks(),r.task.startTask(t);var a=setInterval(e.animationCallback,20);e.setState({animate:!0,animate_id:a})}else r.task.stopAllTasks(),e.setState({animate:!1,animate_id:null})}})));return h.a.createElement(S,null,_,w,x)}}]),t}(h.a.Component),L=(n(29),function(e){var t=e.routes,n=e.navi,r=h.a.createElement("div",{key:1,className:"topBar"},h.a.createElement("div",{className:"page-home__header__left"},"Home")),a=h.a.createElement("div",{key:2},h.a.createElement("div",{className:"page-home__content__mainPages"},"Main pages",h.a.createElement("div",{className:"page-home__content__mainPages__pages"},["gtm:/test4","gtm:/dev"].map((function(e){var r=t.find((function(t){return t.url===e}));return N("undefined"!==typeof r),h.a.createElement("button",{key:r.url,onClick:function(){n.setURL(r.url)}},r.name)}))))),o=h.a.createElement("div",{key:3,className:"bottomBar page-home__footer"},h.a.createElement("button",null,"STOP ALL RUNNING TASKS"));return h.a.createElement(S,null,r,a,o)});n(30);var B=function(e){var t=e.navi,n=e.gtm;if(null===t.urlObj)throw new Error;var r=t.urlObj.queryObject,a=r.id,o=r.type,i=r.mode,s=function(e,t,n){if("dependency"===t){if("add"===n)return function(t){return e.task.listTaskIDs([["filter",["possible-new-dependencies-of",t]],["sort",["date_modified","desc"]]])};if("remove"===n)return function(t){return e.task.listTaskIDs([["filter",["dependencies-of",t]]])};throw new Error}if("dependent"===t){if("add"===n)return function(t){return e.task.listTaskIDs([["filter",["possible-new-dependents-of",t]],["sort",["date_modified","desc"]]])};if("remove"===n)return function(t){return e.task.listTaskIDs([["filter",["dependents-of",t]]])};throw new Error("")}throw new Error("")}(n,o,i),c=function(e,t,n){if("dependency"===t){if("add"===n)return function(t,n){e.task.addDependency(t,n)};if("remove"===n)return function(t,n){e.task.removeDependency(t,n)};throw new Error}if("dependent"===t){if("add"===n)return function(t,n){e.task.addDependent(t,n)};if("remove"===n)return function(t,n){e.task.removeDependent(t,n)};throw new Error("")}throw new Error("")}(n,o,i),u=Object(v.useState)(s(a)),l=Object(b.a)(u,2),d=l[0],f=l[1];var m=h.a.createElement("div",{key:"1",className:"topBar"},h.a.createElement("div",{},h.a.createElement("button",{onClick:function(){t.back()}},"Go back"),"add"===i?"Add ".concat("dependency"===o?"subtask":"supertask"," to ").concat(a):"Remove ".concat("dependency"===o?"subtask":"supertask"," from ").concat(a))),p=h.a.createElement.apply(h.a,["div",{key:"2"}].concat(Object(E.a)(d.map((function(e){var t=n.task.getTask(e),r=t.description.length<=20?t.description:t.description.substring(0,17)+"...",o="".concat(e,": ").concat(r);return h.a.createElement("button",{key:e,onClick:function(t){!function(e){c(a,e),f(s(a))}(e)}},o)}))))),g=h.a.createElement("div",{key:3,className:"bottomBar",style:{display:"flex",flexDirection:"row-reverse"}},"add"===i?h.a.createElement("button",{onClick:function(){var e=n.task.createTask();if("dependency"===o)n.task.addDependency(a,e.id);else{if("dependent"!==o)throw new Error;n.task.addDependent(a,e.id)}t.setURL("gtm:/task/".concat(e.id),1)}},"+"):null);return h.a.createElement(S,null,m,p,g)},J=(n(31),function(e){var t=e.task_id,n=e.gtm,r=e.navi,a=e.buttonEnterText,o=void 0===a?"o":a,i=e.buttonEnterOnClick,s=void 0===i?function(){r.setURL("gtm:/tasklist?id=".concat(t))}:i,c=e.buttonEnterHide,u=void 0!==c&&c,l=n.task.getTask(t),d=l.description.length<=30?l.description:l.description.substring(0,27)+"...",f=n.task.getActiveTaskIDs().includes(t),m=n.task.getTaskTotalWorktime(t),p=Object(v.useState)(new Date),g=Object(b.a)(p,2)[1];return Object(v.useEffect)((function(){var e=setTimeout((function(){g(new Date)}),1);return function(){clearInterval(e)}})),h.a.createElement("div",{className:"open"===l.status?"task-list-item":"task-list-item task-list-item--complete"},h.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start"}},h.a.createElement("button",{style:{paddingLeft:"10px",paddingRight:"10px"},onClick:function(){r.setURL("gtm:/task/".concat(t,"?mode=edit"))}},"..."),h.a.createElement(C,{active:f,onChange:function(e){e?(n.task.stopAllTasks(),n.task.startTask(t)):n.task.stopAllTasks()}}),h.a.createElement("div",{style:{paddingLeft:"2px",paddingRight:"2px",alignSelf:"center",fontSize:"0.9rem"}},d)),h.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}},h.a.createElement("span",{style:{paddingRight:"2px",fontSize:"0.75rem"}},I(m)),u?null:h.a.createElement("button",{onClick:s},o)))}),G=(n(32),function(e){var t=e.gtm,n=e.navi,r=n.urlObj.queryObject.id,a="Root tasks",o=[],i=[],s=[],c=!1;if("string"===typeof r)if(t.task.hasTask(r)){c=!0;var u=t.task.getTask(r);(a=u.id+": "+u.description).length>20&&(a=a.substring(0,17)+"..."),i=Object(E.a)(u.dependents),s=Object(E.a)(u.dependencies)}else n.back();o=t.task.listTaskIDs([["filter",["roots"]],["sort",["status","open","asc"],["date_modified","desc"]]]);var l,d=h.a.createElement("div",{key:1,className:"topBar",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){n.back()}},"Go back"),c?h.a.createElement("button",{onClick:function(){n.setURL("gtm:/task/".concat(r,"?mode=edit"))}},"Edit"):null,a),h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){n.setURL("gtm:/home")}},"Go home")));l=c?0===i.length?h.a.createElement("div",{key:2},"Roots",h.a.createElement("ul",null,o.map((function(e,r){return h.a.createElement(J,{key:r,task_id:e,gtm:t,navi:n})}))),"Task",h.a.createElement("ul",null,h.a.createElement(J,{task_id:r,gtm:t,navi:n})),"Sub-tasks",h.a.createElement("ul",null,s.map((function(e,r){return h.a.createElement(J,{key:r,task_id:e,gtm:t,navi:n})})))):h.a.createElement("div",{key:2},"Super-tasks",h.a.createElement("ul",null,i.map((function(e,r){return h.a.createElement(J,{key:r,task_id:e,gtm:t,navi:n})}))),"Task",h.a.createElement("ul",null,h.a.createElement(J,{task_id:r,gtm:t,navi:n})),"Sub-tasks",h.a.createElement("ul",null,s.map((function(e,r){return h.a.createElement(J,{key:r,task_id:e,gtm:t,navi:n})})))):h.a.createElement("div",{key:2},h.a.createElement("ul",null,o.map((function(e,r){return h.a.createElement(J,{key:r,task_id:e,gtm:t,navi:n})}))));var f=h.a.createElement("div",{key:"3",className:"bottomBar",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},h.a.createElement("button",{onClick:function(){if(c)n.setURL("gtm:/edit-depend?".concat([["id",r],["type","dependency"],["mode","add"]].map((function(e){return e.map((function(e){return escape(e)})).join("=")})).join("&")));else{var e=t.task.createTask();n.setURL("gtm:/task/".concat(e.id))}}},"\xa0+\xa0"));return h.a.createElement(S,null,d,l,f)}),W=(n(33),function(e){var t=e.gtm,n=e.navi,r=t.common.doExport(),a=h.a.createElement("div",{key:"1",className:"topBar"},h.a.createElement("div",{},h.a.createElement("button",{onClick:function(){n.back()}},"Go back"))),o=h.a.createElement("div",{key:"2",style:{overflowWrap:"break-word"}},h.a.createElement("span",{style:{fontFamily:"monospace"}},r)),i=h.a.createElement("div",{key:"3",style:{display:"flex",justifyContent:"space-between"},className:"bottomBar"},h.a.createElement("button",{onClick:function(){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("export-".concat(Date.now(),".txt"),r)}},"Download"),h.a.createElement("button",{onClick:function(){!function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(r)}},"Copy to clipboard"));return h.a.createElement(S,null,a,o,i)}),M=(n(34),function(e){var t=e.gtm,n=e.navi,r=Object(v.useRef)(null),a=Object(v.useState)(""),o=Object(b.a)(a,2),i=o[0],s=o[1];function c(e){null!==e.target&&u(""+e.target.result)}function u(e){t.common.doImport(e),n.setURL("gtm:/home")}var l=h.a.createElement("div",{key:"1",className:"topBar"},h.a.createElement("div",{},h.a.createElement("button",{onClick:function(){n.back()}},"Go back"))),d=h.a.createElement("div",{key:2,style:{display:"flex",flexDirection:"column",flexGrow:1,height:"100%"}},h.a.createElement(O,{value:i,onChange:function(e){s(e.target.value.trim())},style:{width:"100%",display:"flex",flexGrow:1,resize:"none"}})),f=h.a.createElement("div",{key:3,style:{display:"flex "},className:"bottomBar"},h.a.createElement("button",{onClick:function(){u(i)}},"Import"),h.a.createElement("label",{style:{textDecoration:"none",display:"inline-block",padding:"var(--theme__button__padding)",color:"var(--theme__button__color)",border:"var(--theme__button__border)",borderRadius:"var(--theme__button__border-radius)",margin:"2px 2px 2px 2px",boxShadow:"0px 0px 4px rgba(0, 0, 0, 0.241)",transition:"var(--theme__button__transition)",backgroundColor:"var(--theme__button__background-color)",fontSize:"0.8rem",lineHeight:"normal"}},"Import file",h.a.createElement("input",{type:"file",ref:r,style:{display:"none"},onChange:function(e){N(1===e.target.files.length);var t=e.target.files[0],n=new FileReader;n.onload=c,n.onerror=function(e){throw new Error},n.readAsText(t)}})));return h.a.createElement(S,null,l,d,f)});n(35);function H(e,t){var n=e.find((function(e){return e.url===t}));return N("undefined"!==typeof n),n}var F=function(e){var t=e.navi,n=e.routes,r=[];n.forEach((function(e){var n=e.url;n.startsWith(t.url)&&n!==t.url&&r.push(e)}));var a=h.a.createElement("div",{key:1,className:"topBar"},h.a.createElement("button",{onClick:function(){t.back()}},"Go back"),"Developer page"),o=h.a.createElement("div",{key:2,style:{display:"flex",flexDirection:"column"}},"About",function(){var e="gtm:/about",r=H(n,e);return h.a.createElement("button",{key:e,onClick:function(){t.setURL(e)}},r.name)}(),"Import / import",function(){var e="gtm:/import",r=H(n,e);return h.a.createElement("button",{key:e,onClick:function(){t.setURL(e)}},r.name)}(),function(){var e="gtm:/export",r=H(n,e);return h.a.createElement("button",{key:e,onClick:function(){t.setURL(e)}},r.name)}(),"Reload:",h.a.createElement("button",{onClick:function(){location.reload(!1)}},"Reload (from cache)"),h.a.createElement("button",{onClick:function(){location.reload(!0)}},"Reload (ignore cache)"),"Routes:",r.map((function(e){var n=e.name,r=e.url;return h.a.createElement("button",{key:r,onClick:function(){t.setURL(r)}},n)})),"Other:",h.a.createElement("button",{onClick:function(){throw new Error}},"Throw error"),"Other pages:",["gtm:/tasklist","gtm:/gantt"].map((function(e){var r=H(n,e);return h.a.createElement("button",{key:e,onClick:function(){t.setURL(e)}},r.name)})));return h.a.createElement(S,null,a,o,null)},z=(n(36),function(e){var t=e.navi,n=e.gtm,r=Object(v.useState)("http://"),a=Object(b.a)(r,2),o=a[0],i=a[1],s=h.a.createElement("div",{key:1,className:"topBar"},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.back()}},"Go back"))),c=h.a.createElement("div",{key:2},"URL:",h.a.createElement("input",{type:"text",value:o,onChange:function(e){i(e.target.value)}}),h.a.createElement("button",{onClick:function(){var e=o,t=n.common.doExport();fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.error(e)}))}},"Send data"));return h.a.createElement(S,null,s,c,null)}),V=(n(37),function(e){var t=e.navi,n=e.gtm,r=h.a.createElement("div",{key:1,className:"topBar"},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.back()}},"Go back"))),a=h.a.createElement("div",{key:2,className:"page-creation-selection"},h.a.createElement("button",{onClick:function(){var e=n.task.createTask();t.setURL("gtm:/task/".concat(e.id),1)}},"Create task"));return h.a.createElement(S,null,r,a,null)}),q=(n(38),function(e){var t=e.navi,n=h.a.createElement("div",{key:1,className:"topBar"},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.back()}},"Go back"),"Edit date")),r=h.a.createElement("div",{key:2},h.a.createElement("div",null,"Calendar here..."),h.a.createElement("div",null,"Time here..."));return h.a.createElement(S,null,n,r,null)});n(39);for(var K=function(e){var t=Object(v.useState)(0),n=Object(b.a)(t,2),r=n[0],a=n[1],o=Object(v.useState)(0),i=Object(b.a)(o,2),s=i[0],c=i[1],u=Object(v.useRef)(null);return Object(v.useEffect)((function(){var e=u.current;null!==e&&(console.info("yo?"),e.width=e.clientWidth,e.height=e.clientHeight,a(e.clientWidth),c(e.clientHeight))}),[]),Object(v.useLayoutEffect)((function(){var e=u.current;if(null!==e){console.info(e.width,e.height);var t=e.getContext("2d");null!==t&&(t.beginPath(),t.moveTo(0,s/2),t.lineTo(r,s/2),t.stroke(),function(e){var t=e.getContext("2d");null!==t&&t.fillRect(0,0,10,10)}(e))}}),[r,s]),h.a.createElement("canvas",{className:"gant-view",ref:u})},X=(n(40),function(e){var t=e.navi,n=h.a.createElement("div",{key:1,className:"topBar",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.back()}},"Go back"))),r=h.a.createElement("div",{key:2,className:"page-gantt__content"},h.a.createElement(K,null)),a=h.a.createElement("div",{key:3,className:"bottomBar page-home__footer"},"Footer");return h.a.createElement(S,null,n,r,a)}),Q=n(4),Y=(n(41),function(e,t,n){var r=Array.from(e),a=r.splice(t,1),o=Object(b.a)(a,1)[0];return r.splice(n,0,o),r}),Z=function(e){var t=e.navi,n=e.gtm,r=t.urlObj.queryObject.id;function a(e){var t=[],r=[];if("undefined"===typeof e)t=[],r=n.task.listTaskIDs([["filter",["roots"]],["sort",["status","open","asc"],["date_modified","desc"]]]);else if(n.task.hasTask(e)){var a=n.task.getTask(e);t=0===a.dependents.length?n.task.listTaskIDs([["filter",["roots"]],["sort",["status","open","asc"],["date_modified","desc"]]]).filter((function(t){return t!==e})):Object(E.a)(a.dependents),r=Object(E.a)(a.dependencies)}return[t,r]}var o=a(r),i=Object(b.a)(o,2),s=i[0],c=i[1],u=Object(v.useState)({supertask_ids:s,subtask_ids:c,task_id:r}),l=Object(b.a)(u,2),d=l[0],f=l[1];if(Object(v.useEffect)((function(){if(r!==d.task_id){var e=a(r),t=Object(b.a)(e,2),n=t[0],o=t[1];f(Object(y.a)({},d,{supertask_ids:n,subtask_ids:o,task_id:r}))}}),[r]),"undefined"!==typeof r&&!n.task.hasTask(r))return t.back(),h.a.createElement("div",null,"...");var m,p="undefined"===typeof r?null:n.task.getTask(r);m=null===p?"Roots":p.description.length>20?p.description.substring(0,17)+"...":p.description;var g,k=h.a.createElement("div",{key:1,className:"topBar",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.back()}},"Go back"),m),h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.setURL("gtm:/home")}},"Go home")));"undefined"===typeof r?g=h.a.createElement("div",{key:2},h.a.createElement(Q.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var t=Y(d.subtask_ids,e.source.index,e.destination.index);f(Object(y.a)({},d,{subtask_ids:t}))}}},h.a.createElement(Q.c,{droppableId:"list"},(function(e){return h.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),d.subtask_ids.map((function(e,r){return h.a.createElement(Q.b,{key:e,draggableId:e,index:r},(function(r){return h.a.createElement("div",Object.assign({className:"page-test-item",ref:r.innerRef},r.draggableProps,r.dragHandleProps),h.a.createElement(J,{gtm:n,navi:t,task_id:e,buttonEnterText:">",buttonEnterOnClick:function(){t.setURL("gtm:/test4?id=".concat(e))}}))}))})),e.placeholder)})))):g=0===n.task.getTask(r).dependents.length?h.a.createElement("div",{key:2},h.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},h.a.createElement("button",{onClick:function(){t.setURL("gtm:/test4")}},"Roots")),"Task",h.a.createElement(J,{gtm:n,navi:t,task_id:r,buttonEnterHide:!0}),"Subtasks",h.a.createElement(Q.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){n.task.reorderDependencies(r,e.source.index,e.destination.index);var t=Y(d.subtask_ids,e.source.index,e.destination.index);f(Object(y.a)({},d,{subtask_ids:t}))}}},h.a.createElement(Q.c,{droppableId:"list2"},(function(e){return h.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),d.subtask_ids.map((function(e,r){return h.a.createElement(Q.b,{key:e,draggableId:e,index:r},(function(r){return h.a.createElement("div",Object.assign({className:"page-test-item",ref:r.innerRef},r.draggableProps,r.dragHandleProps),h.a.createElement(J,{gtm:n,navi:t,task_id:e,buttonEnterText:">",buttonEnterOnClick:function(){t.setURL("gtm:/test4?id=".concat(e))}}))}))})),e.placeholder)})))):h.a.createElement("div",{key:2},"Supertasks",h.a.createElement(Q.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){n.task.reorderDependents(r,e.source.index,e.destination.index);var t=Y(d.supertask_ids,e.source.index,e.destination.index);f(Object(y.a)({},d,{supertask_ids:t}))}}},h.a.createElement(Q.c,{droppableId:"list1"},(function(e){return h.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),d.supertask_ids.map((function(e,r){return h.a.createElement(Q.b,{key:e,draggableId:e,index:r},(function(r){return h.a.createElement("div",Object.assign({className:"page-test-item",ref:r.innerRef},r.draggableProps,r.dragHandleProps),h.a.createElement(J,{gtm:n,navi:t,task_id:e,buttonEnterText:"<",buttonEnterOnClick:function(){t.setURL("gtm:/test4?id=".concat(e))}}))}))})),e.placeholder)}))),"Task",h.a.createElement(J,{gtm:n,navi:t,task_id:r,buttonEnterHide:!0}),"Subtasks",h.a.createElement(Q.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){n.task.reorderDependencies(r,e.source.index,e.destination.index);var t=Y(d.subtask_ids,e.source.index,e.destination.index);f(Object(y.a)({},d,{subtask_ids:t}))}}},h.a.createElement(Q.c,{droppableId:"list2"},(function(e){return h.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),d.subtask_ids.map((function(e,r){return h.a.createElement(Q.b,{key:e,draggableId:e,index:r},(function(r){return h.a.createElement("div",Object.assign({className:"page-test-item",ref:r.innerRef},r.draggableProps,r.dragHandleProps),h.a.createElement(J,{gtm:n,navi:t,task_id:e,buttonEnterText:">",buttonEnterOnClick:function(){t.setURL("gtm:/test4?id=".concat(e))}}))}))})),e.placeholder)}))));var _=h.a.createElement("div",{key:3,className:"bottomBar",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},h.a.createElement("button",{onClick:function(){if("undefined"!==typeof r)t.setURL("gtm:/edit-depend?".concat([["id",r],["type","dependency"],["mode","add"]].map((function(e){return e.map((function(e){return escape(e)})).join("=")})).join("&")));else{var e=n.task.createTask();t.setURL("gtm:/task/".concat(e.id))}}},"\xa0+\xa0"));return h.a.createElement(S,null,k,g,_)},$=(n(48),function(e){var t=e.navi,n=h.a.createElement("div",{key:1,className:"topBar",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.back()}},"Go back")),h.a.createElement("div",null,h.a.createElement("button",{onClick:function(){t.setURL("gtm:/home")}},"Go home"))),r=h.a.createElement("div",null,"Last updated: 2020-02-27 15:51"),a=h.a.createElement("div",{key:3,className:"bottomBar",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}});return h.a.createElement(S,null,n,r,a)}),ee=(n(49),function(e){var t=e.hasOwnProperty("children")?Array.isArray(e.children)?e.children:[e.children]:[],n={};Object.keys(e).forEach((function(t){"children"!==t&&(n[t]=e[t])}));var r={style:{display:"flex",height:"100%",width:"100%",flexDirection:"column"}};return function e(t,n){if(N(A(t)||P(t)),N(A(n)||P(n)),A(t))N(A(n));else{if(!P(t))throw new Error("Shouldn't happen");N(P(n))}if(P(t))throw new Error("Array mixing not implemented");A(t)&&Object.keys(t).forEach((function(r){var a=t[r];if(n.hasOwnProperty(r)){var o=n[r];if(A(a))A(o)?e(a,o):n[r]=a;else if(P(a)){if(P(o))throw new Error("Not implemented");n[r]=a}else n[r]=a}else n[r]=a}))}(n,r),h.a.createElement("div",r,t)}),te=(n(50),[{name:"Developer page: server",url:"gtm:/dev/server",element:z},{name:"Creation selection",url:"gtm:/creation-selection",element:V},{name:"Edit depend",url:"gtm:/edit-depend",element:B},{name:"Home",url:"gtm:/home",element:L},{name:"Task list (legacy)",url:"gtm:/tasklist",element:G},{name:"Edit task",url:"gtm:/task",element:U},{name:"Import",url:"gtm:/import",element:M},{name:"Export",url:"gtm:/export",element:W},{name:"Developer page",url:"gtm:/dev",element:F},{name:"Date",url:"gtm:/date",element:q},{name:"Gantt",url:"gtm:/gantt",element:X},{name:"Task list",url:"gtm:/test4",element:Z},{name:"About",url:"gtm:/about",element:$}]),ne=[],re=function(e){var t=te[e],n={};Object.keys(t).forEach((function(e){"element"!==e&&(n[e]=t[e])})),ne.push(n)},ae=0;ae<te.length;ae++)re(ae);var oe=function(e){var t=e.gtm,n=e.navi,r=n.url,a=Object(v.useState)(1),o=Object(b.a)(a,2),i=o[0],s=o[1],c=Object(v.useState)({height:window.innerHeight,width:window.innerWidth}),u=Object(b.a)(c,2),l=u[0],d=u[1];Object(v.useEffect)((function(){var e=function(e,t){var n,r=arguments,a=this;return function(){clearTimeout(n),n=setTimeout((function(){n=null,e.apply(a,r)}),t)}}((function(){l.height===window.innerHeight&&l.width===window.innerWidth||d({height:window.innerHeight,width:window.innerWidth})}),500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),n.callback=function(){s(i+1)};for(var f,m={navi:n,gtm:t,routes:JSON.parse(JSON.stringify(ne))},p=-1,g=0;g<te.length;g++){var k=te[g];if(r.startsWith(k.url)){p=g;break}}return f=-1!==p?h.a.createElement(ee,null,h.a.createElement(te[p].element,m)):h.a.createElement(ee,null,h.a.createElement("div",{className:"app"},"Unhandled route: ",r,h.a.createElement("button",{onClick:function(){n.setURL("gtm:/home")}},"Go home"))),window.isgtmok=!0,f};function ie(e){var t=e,n=R(e),r=[n],a=0;function o(e){var t=a+e;N(t>=0&&t<r.length),a=t,i()}function i(){n=r[a],t=n.url,s.url=t,s.urlObj=n,"function"===typeof s.callback&&s.callback()}var s={back:function(){o(-1)},go:o,forward:function(){o(1)},setURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=R(e);for(a-=t;r.length-1>a;)r.pop();r.push(n),a++,i()},reload:function(){o(0)},url:t,urlObj:n,callback:null};return s}var se=function(){var e=[],t=[],n=[],r=[],a=null;return{create:function(o,i,s){!0===o.__isProxy&&(o=o.__getTarget);var c=function o(i,s,c,u){var l=c||null,d=u||[{target:i,property:""}];e.push(d),i instanceof Array&&(i.__length=i.length);var f=[],m=function(e,t,n){for(var r="",a=null,o=0;o<d.length;o++)a instanceof Array&&!isNaN(d[o].property)&&(d[o].property=a.indexOf(d[o].target)),r=r+"."+d[o].property,a=d[o].target;return r=(r=r+"."+t).substring(2),!0===n&&(r="/"+r.replace(/\./g,"/")),r},p=function(e){if(!0!==l.paused)if(!0===s)setTimeout((function(){if(e===f.length){var t=f.slice(0);f=[];for(var n=0;n<l.observers.length;n++)l.observers[n](t)}}),10);else{var t=f.slice(0);f=[];for(var n=0;n<l.observers.length;n++)l.observers[n](t)}},v={get:function(e,t){if("__getTarget"===t)return e;if("__isProxy"===t)return!0;if("__getParent"===t)return function(e){"undefined"===typeof e&&(e=1);var t=m(0,"__getParent").split(".");return t.splice(-(e+1),e+1),function(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}(l.parentProxy,t.join("."))};if("__getPath"===t)return m(0,"__getParent").slice(0,-12);var a=e[t];if(e instanceof Date&&a instanceof Function&&null!==a)return a.bind(e);if(a instanceof Object&&null!==a&&e.hasOwnProperty(t)){if(!0===a.__isProxy&&(a=a.__getTarget),a.__targetPosition>-1&&null!==n[a.__targetPosition])for(var i=r[a.__targetPosition],c=0,u=i.length;c<u;c++)if(l===i[c].observable)return i[c].proxy;var f=d.slice(0);return f.push({target:a,property:t}),o(a,s,l,f)}return a},deleteProperty:function(e,t){var o=!0;a===g&&(o=!1,a=null);var i=Object.assign({},e);if(f.push({type:"delete",target:e,property:t,newValue:null,previousValue:i[t],currentPath:m(0,t),jsonPointer:m(0,t,!0),proxy:g}),!0===o){l.changesPaused||delete e[t];for(var s=0,c=n.length;s<c&&e!==n[s];s++);for(var u=r[s]||[],d=u.length;d--;)u[d].proxy!==g&&(a=u[d].proxy,delete u[d].proxy[t])}return p(f.length),!0},set:function(e,t,o,i){o&&o.__isProxy&&(o=o.__getTarget);var s=!0;a===g&&(s=!1,a=null);var c=e[t];if(c!==o||!1===s||"length"===t&&e instanceof Array&&e.__length!==o){var u=!0,d=typeof c,v="update";if("undefined"===d&&(v="add"),f.push({type:v,target:e,property:t,newValue:o,previousValue:i[t],currentPath:m(0,t),jsonPointer:m(0,t,!0),proxy:g}),"length"===t&&e instanceof Array&&e.__length!==o&&(f[f.length-1].previousValue=e.__length,e.__length=o),!0===s){l.changesPaused||(e[t]=o),u=!1;for(var h=e.__targetPosition,k=r[h].length;k--;)if(l===r[h][k].observable&&null!==n[r[h][k].observable.parentTarget.__targetPosition]){u=!0;break}if(u){for(var b=r[h],y=0,E=b.length;y<E;y++)b[y].proxy!==g&&(a=b[y].proxy,b[y].proxy[t]=o);setTimeout((function(){if("object"===d&&null!==c){for(var t=Object.keys(e),a=0,o=t.length;a<o;a++)if(e[t[a]]===c)return;var i=!1;if(function e(t){for(var n=Object.keys(t),r=0,a=n.length;r<a;r++){var o=t[n[r]];if(o instanceof Object&&null!==o&&e(o),o===c)return void(i=!0)}}(e),!0===i)return;!function e(t){for(var a=Object.keys(t),o=0,i=a.length;o<i;o++){var s=t[a[o]];s instanceof Object&&null!==s&&e(s)}for(var c=-1,u=0,d=n.length;u<d;u++)if(t===n[u]){c=u;break}if(c>-1){for(var f=r[c],m=f.length;m--;)if(l===f[m].observable){f.splice(m,1);break}0==f.length&&(n[c]=null)}}(c)}}),1e4)}}u&&p(f.length)}return!0}},h=i.__targetPosition;h>-1||Object.defineProperty(i,"__targetPosition",{value:n.length,writable:!1,enumerable:!1,configurable:!1});var g=new Proxy(i,v);null===l&&(l={parentTarget:i,domDelay:s,parentProxy:g,observers:[],paused:!1,path:d,changesPaused:!1},t.push(l));var k={target:i,proxy:g,observable:l};return h>-1?(null===n[h]&&(n[h]=i),r[h].push(k)):(n.push(i),r.push([k])),g}(o,i);return"function"===typeof s&&this.observe(c,s),function e(t){for(var n=t.__getTarget,r=Object.keys(n),a=0,o=r.length;a<o;a++){var i=r[a];n[i]instanceof Object&&null!==n[i]&&e(t[i])}}(c),c},observe:function(e,n){for(var r=t.length;r--;)if(t[r].parentProxy===e){t[r].observers.push(n);break}},pause:function(e){for(var n=t.length,r=!1;n--;)if(t[n].parentProxy===e){t[n].paused=!0,r=!0;break}if(0==r)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var n=t.length,r=!1;n--;)if(t[n].parentProxy===e){t[n].paused=!1,r=!0;break}if(0==r)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(e){for(var n=t.length,r=!1;n--;)if(t[n].parentProxy===e){t[n].changesPaused=!0,r=!0;break}if(0==r)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(e){for(var n=t.length,r=!1;n--;)if(t[n].parentProxy===e){t[n].changesPaused=!1,r=!0;break}if(0==r)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(e){for(var a=null,o=!1,i=t.length;i--;)if(t[i].parentProxy===e){a=t[i],o=!0;break}for(var s=r.length;s--;)for(var c=r[s].length;c--;)r[s][c].observable===a&&(r[s].splice(c,1),0===r[s].length&&(n[s]=null));!0===o&&t.splice(i,1)}}}();function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!e){if("string"!==typeof t)throw console.error(JSON.parse(JSON.stringify(t))),new Error("Assertion failed");for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw r.length>0&&console.error(JSON.parse(JSON.stringify(r))),new Error(t)}}function ue(e,t){if(!window.indexedDB)throw new Error("Unable to use application since your browser does not support a stable version of IndexedDB.");var n={},r={},a=t.transactional,o=void 0!==a&&a,i=function(){var e=new Set,t=[],n=new Map,r=!1,a=function(e){if(!e.ok)throw new Error(e.reason);ce(r,"Don't konw what is going on..."),o()};function o(){if(0!==t.length){var e=t.shift();ce(n.has(e)),n.get(e)(a)}else r=!1}return{addJobType:function(t){ce(!e.has(t)),e.add(t)},setJobHandler:function(e,t){ce(!n.has(e)),n.set(e,t)},scheduleJob:function(n){ce(e.has(n)),t.includes(n)||t.push(n),r||(r=!0,o())},removeJobHandler:function(e){throw new Error("Not implemented")}}}();i.addJobType("applychanges"),i.addJobType("addchanges");var s={afterchange:new Set,beforechange:new Set,change:new Set,synced:new Set,syncing:new Set,ready:new Set,beforeaddchange:new Set,afteraddchange:new Set},c=[],u=0,l=0;function d(e,t){ce("set"===e.type||"delete"===e.type);var n=e.jsonPointer.split("/").filter((function(e){return e.length>0}));ce(n.length>0);for(var r=t,a=0;a<n.length-1;a++)r=r[n[a]];var o=n[n.length-1];if("set"===e.type)r[o]=e.value;else{if("delete"!==e.type)throw new Error;delete r[o]}}function f(){return new Promise((function(t,n){var r=!1,a=window.indexedDB.open(e);a.onblocked=function(t){return n("Blocked when opening database ".concat(e,".  It's maybe in use."))},a.onerror=function(t){return n("Error when opening database ".concat(e))},a.onupgradeneeded=function(e){r=!0;var n=a.result;n.createObjectStore("object",{}),n.createObjectStore("changes",{keyPath:"key",autoIncrement:!0}),setTimeout((function(){t(!0)}),20)},a.onsuccess=function(e){setTimeout((function(){r||(a.result.close(),t(!1))}),50)}}))}function v(){return new Promise((function(t,n){var r=window.indexedDB.open(e);r.onblocked=function(e){return n()},r.onerror=function(e){return n()},r.onupgradeneeded=function(e){return n()},r.onsuccess=function(e){var a=r.result.transaction(["object"],"readwrite");a.oncomplete=function(e){t()},a.onerror=function(e){n()},a.objectStore("object").put({},0).onerror=function(e){n()}}}))}function h(){return new Promise((function(t,n){var r,a=window.indexedDB.open(e);a.onblocked=function(e){n()},a.onerror=function(e){n()},a.onupgradeneeded=function(e){n()},a.onsuccess=function(e){var o=a.result.transaction(["changes"],"readonly");o.oncomplete=function(e){t(r)},o.onerror=function(e){n()};var i=o.objectStore("changes").getAll();i.onerror=function(e){},i.onsuccess=function(e){var t=e.target.result;r=t}}}))}function g(){return new Promise((function(t,n){var r=window.indexedDB.open(e);r.onblocked=function(e){n()},r.onerror=function(e){n()},r.onupgradeneeded=function(e){n()},r.onsuccess=function(e){var a=r.result.transaction(["changes"],"readwrite");a.oncomplete=function(e){t()},a.onerror=function(e){n()};var o=a.objectStore("changes").clear();o.onerror=function(e){n()},o.onsuccess=function(e){}}}))}function k(){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(m.a.mark((function e(){var t,n,r,a,i,s,c,u,l,f,p,v,k,y,w,x,T,D;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h(),E()]);case 2:if(t=e.sent,n=Object(b.a)(t,2),r=n[0],a=n[1],!(r.length>0)){e.next=46;break}if(!o){e.next=45;break}for(i=[],s=[],c=!1,u=null,l=0;l<r.length;l++)f=r[l],c?(ce("begin-transaction"!==f.type),"end-transaction"===f.type?(ce(f.id===u),i.push(s),s=[],u=null,c=!1):s.push(f)):(ce(0===s.length),ce("begin-transaction"===f.type),ce(null===u),u=f.id,c=!0);ce(!c),ce(0===s.length),ce(i.length>0),p=0,v=i;case 15:if(!(p<v.length)){e.next=39;break}for(k=v[p],y=!0,w=!1,x=void 0,e.prev=20,T=k[Symbol.iterator]();!(y=(D=T.next()).done);y=!0)d(D.value,a);e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),w=!0,x=e.t0;case 28:e.prev=28,e.prev=29,y||null==T.return||T.return();case 31:if(e.prev=31,!w){e.next=34;break}throw x;case 34:return e.finish(31);case 35:return e.finish(28);case 36:p++,e.next=15;break;case 39:return e.next=41,_(a);case 41:return e.next=43,g();case 43:e.next=46;break;case 45:throw new Error("Not implemented");case 46:return e.abrupt("return");case 47:case"end":return e.stop()}}),e,null,[[20,24,28,36],[29,,31,35]])})))).apply(this,arguments)}function E(){return new Promise((function(t,n){var r,a=window.indexedDB.open(e);a.onblocked=function(e){n()},a.onerror=function(e){n()},a.onupgradeneeded=function(e){n()},a.onsuccess=function(e){var o=a.result.transaction(["object"],"readonly");o.oncomplete=function(e){t(r)},o.onerror=function(e){n()};var i=o.objectStore("object").get(0);i.onerror=function(e){},i.onsuccess=function(e){var t=e.target.result;r=t}}}))}function _(t){return new Promise((function(n,r){var a=window.indexedDB.open(e);a.onblocked=function(e){r()},a.onerror=function(e){r()},a.onupgradeneeded=function(e){r()},a.onsuccess=function(e){var o=a.result.transaction(["object"],"readwrite");o.oncomplete=function(e){n()},o.onerror=function(e){r()},o.objectStore("object").put(t,0).onerror=function(e){r()}}}))}function w(){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:if(!e.sent){e.next=6;break}return e.next=6,v();case 6:return e.next=8,k();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){i.scheduleJob("addchanges")}function D(e){!function(e){if("begin-transaction"===e.type||"end-transaction"===e.type)u+=e.id.length+e.type.length;else if("delete"===e.type)u+=e.jsonPointer.length+e.type.length;else{if("set"!==e.type)throw new Error;u+=e.jsonPointer.length+e.type.length+JSON.stringify(e.value).length}}(e),o?(A("beforeaddchange",{type:"beforeaddchange",change:e,object:n}),O?(A("beforechange",{type:"beforechange",change:e,object:n}),c.push(e),A("change",{type:"change",change:e,object:n}),A("afterchange",{type:"afterchange",change:e,object:n})):(A("beforechange",{type:"beforechange",change:e,object:n}),ce(O),c.push(e),A("change",{type:"change",change:e,object:n}),A("afterchange",{type:"afterchange",change:e,object:n})),A("afteraddchange",{type:"afteraddchange",change:e,object:n})):(ce(!("begin-transaction"===e.type||"end-transaction"===e.type)),A("beforechange",{type:"beforechange",change:e,object:n}),c.push(e),A("afterchange",{type:"afterchange",change:e,object:n}),A("change",{type:"change",change:e,object:n}),T())}i.setJobHandler("applychanges",(function(e){k().then((function(){!function(){var e=l;l=0}(),e({ok:!0})})).catch((function(e){throw new Error(e)}))})),i.setJobHandler("addchanges",(function(t){if(0!==c.length){var n=c;c=[];var r,a=function(){var e=u;return u=0,e}();(r=n,new Promise((function(t,n){var a=window.indexedDB.open(e);a.onblocked=function(e){n()},a.onerror=function(e){n()},a.onupgradeneeded=function(e){n()},a.onsuccess=function(e){var o=a.result.transaction(["changes"],"readwrite");o.oncomplete=function(e){t()},o.onerror=function(e){n()};var i=o.objectStore("changes");r.forEach((function(e){var t=i.add(e);t.onsuccess=function(e){},t.onerror=function(e){n()}}))}}))).then((function(){var e;ce((e=a)>0),(l+=e)>20971520&&i.scheduleJob("applychanges"),t({ok:!0})})).catch((function(e){throw console.error(e),new Error(e)}))}else t({ok:!0})}));var j=function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value,s=i.type;if("add"===s||"update"===s)D({type:"set",jsonPointer:i.jsonPointer,value:i.newValue});else{if("delete"!==s)throw new Error("Unknown type: ".concat(s));D({type:"delete",jsonPointer:i.jsonPointer})}}}catch(c){n=!0,r=c}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}};var O=!1,C=null;function S(){ce(o),ce(null===C),C=""+Date.now(),c.push({type:"begin-transaction",id:C}),O=!0}function N(){ce(o),ce(null!==C),c.push({type:"end-transaction",id:C}),C=null,O=!1,T()}function A(e,t){ce(e===t.type);var n=!0,r=!1,a=void 0;try{for(var o,i=s[e][Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;ce(e===t.type),c(t)}}catch(u){r=!0,a=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}}function P(){return(P=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.next=4,E();case 4:ce(typeof(t=e.sent)&&null!==t),n=t,r=se.create(n,!1,j),R.object=n,R.proxy=r,R.ready=!0,R.beginTransaction=S,R.endTransaction=N,A("ready",{type:"ready"});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return P.apply(this,arguments)})().catch((function(e){throw console.log("Error:",e),new Error(e)}));var R={object:null,proxy:null,addEventListener:function(e,t){if(!s[e].has(t)&&(s[e].add(t),"ready"===e));},removeEventListener:function(e,t){s[e].has(t)&&s[e].delete(t)},ready:!1,beginTransaction:function(){},endTransaction:function(){}};return R}new Set(["has","starts-width","ends-with","not-starts-with"]);function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if("string"!==typeof t)throw console.error(JSON.parse(JSON.stringify(t))),new Error("Assertion failed");throw r.length>0&&console.error(JSON.parse(JSON.stringify(r))),new Error(t)}}function de(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fe(e){var t="string"===typeof e?e.split(""):e,n=t.length;return function(e){for(var r=[],a=0;a<e;a++){var o=Math.floor(n*Math.random()),i=t[o];r.push(i)}return r.join("")}}function me(e,t){var n=new Date(e),r=new Date(t);le(""+n!=="From ".concat(e," to ").concat(t)),le(""+r!=="From ".concat(e," to ").concat(t));var a=n.getTime(),o=r.getTime();le(o>=a,"Should hold: ".concat(o," >= ").concat(a));var i=o-a;return le(Number.isSafeInteger(i)&&i>=0),i}(function(){var e=fe("abcdefghijklmnopqrstuvwxyz"),t=fe("abcdefghijklmnopqrstuvwxyz0123456789")})(),function(){"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");var e=18432,t=new Uint8Array(e);window.crypto.getRandomValues(t)}(),function(){var e=18432,t=new Uint8Array(e),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),r=e,a=0}();var pe=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function a(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return a(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,a=t.length;r<a;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,a=n.length;r<a;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach((function(t){i.push(e(t))})),o.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return a(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,a,o,i={},s={},c="",u="",l="",d=2,f=3,m=2,p=[],v=0,h=0;for(o=0;o<e.length;o+=1)if(c=e.charAt(o),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=f++,s[c]=!0),u=l+c,Object.prototype.hasOwnProperty.call(i,u))l=u;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<m;r++)v<<=1,h==t-1?(h=0,p.push(n(v)),v=0):h++;for(a=l.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1}else{for(a=1,r=0;r<m;r++)v=v<<1|a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a=0;for(a=l.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1}0==--d&&(d=Math.pow(2,m),m++),delete s[l]}else for(a=i[l],r=0;r<m;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1;0==--d&&(d=Math.pow(2,m),m++),i[u]=f++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<m;r++)v<<=1,h==t-1?(h=0,p.push(n(v)),v=0):h++;for(a=l.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1}else{for(a=1,r=0;r<m;r++)v=v<<1|a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a=0;for(a=l.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1}0==--d&&(d=Math.pow(2,m),m++),delete s[l]}else for(a=i[l],r=0;r<m;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1;0==--d&&(d=Math.pow(2,m),m++)}for(a=2,r=0;r<m;r++)v=v<<1|1&a,h==t-1?(h=0,p.push(n(v)),v=0):h++,a>>=1;for(;;){if(v<<=1,h==t-1){p.push(n(v));break}h++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var a,o,i,s,c,u,l,d=[],f=4,m=4,p=3,v="",h=[],g={val:r(0),position:n,index:1};for(a=0;a<3;a+=1)d[a]=a;for(i=0,c=Math.pow(2,2),u=1;u!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),i|=(s>0?1:0)*u,u<<=1;switch(i){case 0:for(i=0,c=Math.pow(2,8),u=1;u!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),i|=(s>0?1:0)*u,u<<=1;l=e(i);break;case 1:for(i=0,c=Math.pow(2,16),u=1;u!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),i|=(s>0?1:0)*u,u<<=1;l=e(i);break;case 2:return""}for(d[3]=l,o=l,h.push(l);;){if(g.index>t)return"";for(i=0,c=Math.pow(2,p),u=1;u!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),i|=(s>0?1:0)*u,u<<=1;switch(l=i){case 0:for(i=0,c=Math.pow(2,8),u=1;u!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),i|=(s>0?1:0)*u,u<<=1;d[m++]=e(i),l=m-1,f--;break;case 1:for(i=0,c=Math.pow(2,16),u=1;u!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),i|=(s>0?1:0)*u,u<<=1;d[m++]=e(i),l=m-1,f--;break;case 2:return h.join("")}if(0==f&&(f=Math.pow(2,p),p++),d[l])v=d[l];else{if(l!==m)return null;v=o+o.charAt(0)}h.push(v),d[m++]=o+v.charAt(0),o=v,0==--f&&(f=Math.pow(2,p),p++)}}};return o}(),ve=1,he=2,ge=3;function ke(e){if(N("object"===typeof e&&null!==e,"".concat("gtm-lib-common.ts",": setup(state): state must be an object and not null.")),!Ee(e))if(de(e,"version")){if(21===e.version)return;var t=Le(e);Object.keys(e).forEach((function(t){"transaction"!==t&&delete e[t]})),Object.keys(t).forEach((function(n){"transaction"!==n&&(e[n]=t[n])}))}else N(0===Object.keys(e).length),function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];N("object"===typeof e&&null!==e),N("object"===typeof t&&null!==t),Object.keys(t).forEach((function(e){delete t[e]})),r&&(delete e.transaction,n=Ne(t));Object.keys(e).forEach((function(n){t[n]=e[n]})),r&&Ae(t,n)}(Re(),e),N(Ee(e),(function(){return console.error({state:JSON.parse(JSON.stringify(e))}),"".concat("gtm-lib-common.ts",": setup(state): State verification failed!")}))}function be(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"object"===typeof e&&null!==e&&(!!de(e,"version")&&("number"===typeof e.version&&(20===e.version&&(!!de(e,"entities")&&("object"===typeof e.entities&&null!==e.entities&&(!!de(e,"next_id")&&("number"===typeof e.next_id&&(e.next_id>0&&(!!de(e,"activity_stack")&&(!!Array.isArray(e.activity_stack)&&(!!de(e,"misc")&&("object"===typeof e.misc&&null!==e.misc&&(!!de(e.misc,"active_task_ids")&&!!Array.isArray(e.misc.active_task_ids))))))))))))))}function ye(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"object"===typeof e&&null!==e&&(!!de(e,"version")&&("number"===typeof e.version&&(21===e.version&&(!!de(e,"entities")&&("object"===typeof e.entities&&null!==e.entities&&(!!de(e,"next_id")&&("number"===typeof e.next_id&&(e.next_id>0&&(!!de(e,"transaction")&&("string"===typeof e.transaction&&(!!de(e,"misc")&&("object"===typeof e.misc&&null!==e.misc&&(!!de(e.misc,"active_task_ids")&&!!Array.isArray(e.misc.active_task_ids))))))))))))))}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"object"===typeof e&&null!==e&&(!!de(e,"version")&&("number"===typeof e.version&&(20===e.version?be(e,t):21===e.version&&ye(e,t))))}function _e(e,t){return!!de(e.entities,t)}function we(e,t){throw new Error("Not implemented!")}function xe(e,t){return N(de(e.entities,t)),e.entities[t]}function Te(e,t){N("object"===typeof t&&null!==t),N(de(t,"id")),N("string"===typeof t.id),N(""!==t.id),N(!de(e,t.id)),e.entities[t.id]=t}function De(e,t){N(de(e.entities,t)),delete e.entities[t]}function je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?JSON.stringify(e):pe.compressToBase64(JSON.stringify(e))}function Oe(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n,r=-1;if(-1===r)try{n=JSON.parse(t),r=0}catch(o){}if(-1===r)try{var a=pe.decompressFromBase64(t);null!==a&&(n=JSON.parse(a),r=0)}catch(o){}if(-1===r)throw new Error("Cannot import value: ".concat(t));N("object"===typeof n&&null!==n),N(de(n,"version")),("string"===typeof n.version||"number"===typeof n.version&&21!==n.version)&&(n=Le(n)),N("object"===typeof n&&null!==n),N(de(n,"version")),N(21===n.version),Object.keys(e).forEach((function(t){"transaction"!==t&&delete e[t]})),Object.keys(n).forEach((function(t){"transaction"!==t&&(e[t]=n[t])}))}function Ce(e){var t=e.next_id;return e.next_id+=1,""+t}function Se(e){return N(Ee(e,!0)),e}function Ne(e){e.hasOwnProperty("transaction")&&N(""===e.transaction||e.transaction.length>0&&"("===e.transaction[0]);var t=")"+Date.now();return e.transaction=t,t}function Ae(e,t){N(e.hasOwnProperty("transaction")),N(e.transaction.length>0),N(")"===e.transaction[0]),N(e.transaction===t);var n="("+t;return e.transaction=n,n}function Pe(){return{version:21,entities:{},next_id:1,transaction:"",misc:{active_task_ids:[]}}}var Re=Pe;function Ie(e){function t(e){var t=e.next_id;return e.next_id+=1,""+t}var n={version:20,entities:{},next_id:1,activity_stack:[],misc:{active_task_ids:[]}};n.next_id=e.storage._next_id;for(var r=Object.keys(e.storage.graph.nodes),a=[],o=0;o<r.length;o++){var i=r[o],s=e.storage.graph.nodes[i],c=s.status;"abandoned"===c&&(c="archived"),a.push({id:i,comments:s.comments});var u={type:"task",id:i,title:"",description:s.description,date_created:s.date_created,date_modified:s.date_modified,date_due:s.date_due,date_opened:null,date_done:s.date_done,date_archived:s.date_abandoned,date_removed:s.date_removed,dependencies:s.dependencies,dependents:s.dependents,estimated_time:s.time_estimated,priority:s.priority,status:c,worktime:s.worktime,tags:s.tags,comments:[]};"open"===s.status&&(u.date_opened=u.date_created),n.entities[u.id]=u}for(var l=0,d=a;l<d.length;l++){var f=d[l],m=f.id,p=n.entities[m];N("task"===p.type);var v=p,h=f.comments,g=!0,k=!1,b=void 0;try{for(var y,E=h[Symbol.iterator]();!(g=(y=E.next()).done);g=!0){var _=y.value,w=t(n),x={type:"note",id:w,title:"",text:_,date_created:v.date_created,date_modified:v.date_created};n.entities[w]=x}}catch(T){k=!0,b=T}finally{try{g||null==E.return||E.return()}finally{if(k)throw b}}}return n}function Ue(e){N(0===e.activity_stack.length);var t={version:21,entities:{},next_id:1,transaction:"",misc:{active_task_ids:[]}};return t.entities=e.entities,t.next_id=e.next_id,t.misc.active_task_ids=e.misc.active_task_ids,t}function Le(e){N("object"===typeof e&&null!==e),N(de(e,"version"));var t=JSON.parse(JSON.stringify(e));if(21===e.version)return t;for(var n,r=!0;r&&21!==t.version;){0;var a="0.16.0"===(n=t).version?{ok:!0,state:Ie(n)}:20===n.version?{ok:!0,state:Ue(n)}:(console.error("Unknown state version: ".concat(n.version)),{ok:!1});r=a.ok,a.ok&&(t=a.state)}if(r)return t;throw new Error("Unable to migrate!")}function Be(e){throw new Error("Not implemented!")}function Je(e,t){le(de(e.entities,t));var n=e.entities[t];return le("calendar"===n.type),n}function Ge(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}function We(e,t,n){le(e.entities.hasOwnProperty(t)),le(e.entities.hasOwnProperty(n));var r=e.entities[t],a=e.entities[n];return le("task"===r.type),le("task"===a.type),{type:"dependency",id:Ce(e),date_created:(new Date).toJSON(),source_id:t,target_id:n}}function Me(e,t){le(de(e.entities,t));var n=e.entities[t];return le("dependency"===n.type),n}function He(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}function Fe(e){throw new Error("Not implemented!")}function ze(e,t){le(de(e.entities,t));var n=e.entities[t];return le("event"===n.type),n}function Ve(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}function qe(e){throw new Error("Not implemented!")}function Ke(e,t){le(de(e.entities,t));var n=e.entities[t];return le("link"===n.type),n}function Xe(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=kn.common.getNextID(e),r=(new Date).toJSON(),a={type:"note",id:n,title:"",text:t,date_created:r,date_modified:r};return kn.common.addEntity(e,a),a}function Ye(e,t,n){var r=Ze(e,t),a=(new Date).toJSON();r.text=n,r.date_modified=a}function Ze(e,t){le(de(e.entities,t));var n=e.entities[t];return le("note"===n.type),n}function $e(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}function et(e){throw new Error("Not implemented!")}function tt(e,t){le(de(e.entities,t));var n=e.entities[t];return le("poset"===n.type),n}function nt(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}function rt(e){throw new Error("Not implemented!")}function at(e,t){le(de(e.entities,t));var n=e.entities[t];return le("reminder"===n.type),n}function ot(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}var it=["open","archived","removed","done"];function st(e){var t=Object.keys(e.entities).filter((function(t){return"task"===e.entities[t].type})),n={};t.forEach((function(t){var r=vn(e,t);n[t]={id:t,mark:2,out:Object(E.a)(r.dependencies)}}));var r=[],a=!0;function o(e){if(a&&4!==n[e].mark)if(3!==n[e].mark){n[e].mark=3;for(var t=0;t<n[e].out.length&&a;t++)o(n[e].out[t]);n[e].mark=4,r.push(e)}else a=!1}for(var i=0;i<t.length&&a;i++){var s=t[i];2===n[s].mark&&o(s)}return a&&r.reverse(),a}function ct(e,t){var n=vn(e,t),r=(new Date).toJSON();n.date_modified=r}function ut(e,t,n){le("string"===typeof t),le("string"===typeof n),le(mn(e,t)),le(mn(e,n));for(var r=new Set,a=[t];a.length>0;){var o=a.pop();if(o===n)return!0;r.add(o);for(var i=vn(e,o).dependencies,s=0;s<i.length;s++)r.has(i[s])||a.push(i[s])}return!1}function lt(e){var t=kn.common.getNextID(e),n=(new Date).toJSON(),r={type:"task",id:t,title:"",description:"",date_created:n,date_modified:n,date_user_modified:n,date_due:null,date_opened:n,date_done:null,date_archived:null,date_removed:null,estimated_time:null,dependencies:[],dependents:[],tags:[],priority:0,status:"open",worktime:[],comments:[]};return kn.common.addEntity(e,r),r}function dt(e,t,n,r){var a=vn(e,t).dependents;le(a.length>0),le(Number.isSafeInteger(n)&&n>=0&&n<a.length),le(Number.isSafeInteger(r)&&r>=0&&r<a.length);var o=a.splice(n,1),i=Object(b.a)(o,1)[0];a.splice(r,0,i),ct(e,t)}function ft(e,t,n,r){var a=vn(e,t).dependencies;le(a.length>0),le(Number.isSafeInteger(n)&&n>=0&&n<a.length),le(Number.isSafeInteger(r)&&r>=0&&r<a.length);var o=a.splice(n,1),i=Object(b.a)(o,1)[0];a.splice(r,0,i),ct(e,t)}function mt(e,t,n){var r=vn(e,t),a=vn(e,n),o=t,i=n;le(!ut(e,i,o),"Adding a dependency from node ".concat(o," to ").concat(i," will result in a cycle."));var s=r,c=a;if(le(!s.dependencies.includes(i),"Node 1 already has node 2 as a dependency."),le(!c.dependents.includes(o),"Node 2 already has node 1 as a dependency."),s.dependencies.push(i),c.dependents.push(o),ct(e,o),ct(e,i),!st(e))throw s.dependencies.pop(),c.dependents.pop(),new Error("SHOULD NOT HAPPEN")}function pt(e,t,n){mt(e,n,t)}function vt(e,t,n){var r=vn(e,t),a=vn(e,n),o=r.dependencies.indexOf(n),i=a.dependents.indexOf(t);le(o>=0),le(i>=0),r.dependencies.splice(o,1),a.dependents.splice(i,1),le(!r.dependencies.includes(n)),le(!a.dependents.includes(t)),ct(e,t),ct(e,n)}function ht(e,t,n){vt(e,n,t)}function gt(e,t,n){throw new Error("Not implemented!")}function kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=vn(e,t),a=kn.note.createNote(e,n);r.comments.push(a.id),ct(e,t)}function bt(e,t,n){var r=vn(e,t);le(Number.isSafeInteger(n)),le(n>=0&&n<r.comments.length);var a=r.comments[n];return kn.note.getNote(e,a).text}function yt(e,t,n){throw new Error("Not implemented!")}function Et(e,t,n){var r=vn(e,t);le(""+new Date(n)!=="Invalid Date"),r.date_due=n,ct(e,t)}function _t(e,t){vn(e,t).date_due=null,ct(e,t)}function wt(e,t,n){vn(e,t).description=n,ct(e,t)}function xt(e,t,n,r){var a=vn(e,t);le(Number.isSafeInteger(n)),le(n>=0&&n<a.comments.length);var o=a.comments[n];kn.note.changeText(e,o,r),ct(e,t)}function Tt(e){throw new Error("Not implemented!")}function Dt(e,t){var n=vn(e,t),r=[];return Object.keys(e.entities).forEach((function(a){t===a||n.dependencies.includes(a)||mn(e,a)&&!kn.task.doesPathThroughDependenciesExist(e,a,t)&&r.push(a)})),le(Array.isArray(r)),r.forEach((function(n){le("string"===typeof n),le(de(e.entities,t))})),r}function jt(e,t){var n=vn(e,t),r=[];return Object.keys(e.entities).forEach((function(a){t===a||n.dependents.includes(a)||mn(e,a)&&!kn.task.doesPathThroughDependenciesExist(e,t,a)&&r.push(a)})),le(Array.isArray(r)),r.forEach((function(n){le("string"===typeof n),le(de(e.entities,t))})),r}function Ot(e,t,n){throw new Error("Not implemented!")}function Ct(e,t,n){throw new Error("Not implemented!")}function St(e,t){var n=[];if(Object.keys(e.entities).forEach((function(t){var r=e.entities[t];"task"===r.type&&n.push(r)})),"undefined"!==typeof t){le(Array.isArray(t));for(var r=0;r<t.length;r++){var a=t[r];le(Array.isArray(a)&&a.length>=1);var o=a[0];if("filter"===o)for(var i=1;i<a.length;i++){var s=a[i];le(Array.isArray(s)&&s.length>=1);var c=s[0];if("roots"===c)n=n.filter((function(e){return 0===e.dependents.length}));else if("leaves"===c)n=n.filter((function(e){return 0===e.dependencies.length}));else if("possible-new-dependencies-of"===c)!function(){le(2===s.length);var t=s[1];le("string"===typeof t);var r=Dt(e,t);n=n.filter((function(e){return r.includes(e.id)}))}();else if("dependencies-of"===c)!function(){le(2===s.length);var t=s[1];le("string"===typeof t);var r=$t(e,t);n=n.filter((function(e){return r.includes(e.id)}))}();else if("possible-new-dependents-of"===c)!function(){le(2===s.length);var t=s[1];le("string"===typeof t);var r=jt(e,t);n=n.filter((function(e){return r.includes(e.id)}))}();else{if("dependents-of"!==c)throw new Error("Unknown filter: "+c);!function(){le(2===s.length);var t=s[1];le("string"===typeof t);var r=Zt(e,t);n=n.filter((function(e){return r.includes(e.id)}))}()}}else{if("sort"!==o)throw new Error("Unknown criterion: "+o);for(var u=function(e){var t=a[e];le(Array.isArray(t)&&t.length>=1);var r=t[0];if("status"===r){var o="asc"===t[t.length-1]||"desc"===t[t.length-1],i=t.length;o&&(i=t.length-1);for(var s=new Set,c=1;c<i;c++)le(it.includes(t[c])),le(!s.has(t[c])),s.add(t[c]);n.sort((function(e,n){return t.indexOf(e.status)-t.indexOf(n.status)})),o&&"desc"===t[t.length-1]&&n.reverse()}else{if("date_modified"!==r)throw new Error("Unknown sort: "+r);n.sort((function(e,t){return new Date(e.date_modified).getTime()-new Date(t.date_modified).getTime()})),2===t.length&&(le("asc"===t[1]||"desc"===t[1]),"desc"===t[1]&&n.reverse())}},l=1;l<a.length;l++)u(l)}}}return n.map((function(e){return e.id}))}function Nt(e){var t=[];return Object.keys(e.entities).forEach((function(n){var r=e.entities[n];"task"===r.type&&t.push(r)})),t}function At(e,t){throw new Error("Not implemented!")}function Pt(e,t){for(var n=vn(e,t).worktime,r=0,a=(new Date).toJSON(),o=0;o<n.length;o++){var i=n[o];le(i.length>=1&&i.length<=2);var s=void 0,c=void 0;if(1===i.length)s=i[0],c=a;else{if(2!==i.length)throw new Error;s=i[0],c=i[1]}le("string"===typeof s,JSON.stringify(n)),le("string"===typeof c,JSON.stringify(n)),r+=me(s,c)}return r}function Rt(e,t){le(mn(e,t));for(var n=new Set,r=[t];r.length>0;){var a=r.shift();n.add(a),vn(e,a).dependencies.forEach((function(e){r.push(e)}))}return n.delete(t),Array.from(n)}function It(e,t){le(mn(e,t));var n=0;return n+=Pt(e,t),Rt(e,t).forEach((function(t){n+=Pt(e,t)})),n}function Ut(e,t){le(mn(e,t)),Qt(e,t,"removed"),ct(e,t)}function Lt(e){throw new Error("Not implemented!")}function Bt(e,t){le("done"!==vn(e,t).status),Wt(e,t)&&Ht(e,t),Qt(e,t,"done"),ct(e,t)}function Jt(e,t){le("open"!==vn(e,t).status),Qt(e,t,"open")}function Gt(e,t){le(mn(e,t));var n=vn(e,t);if(Wt(e,t)&&Ht(e,t),n.dependencies.forEach((function(n){vt(e,t,n)})),n.dependents.forEach((function(n){ht(e,t,n)})),kn.common.removeEntity(e,t),!st(e))throw new Error("Not ok!")}function Wt(e,t){return e.misc.active_task_ids.includes(t)}function Mt(e,t){var n=vn(e,t);le(!e.misc.active_task_ids.includes(t)),le("open"===n.status),e.misc.active_task_ids.push(t);var r=(new Date).toJSON();n.worktime.push([r]),ct(e,t)}function Ht(e,t){var n=vn(e,t);le("open"===n.status);var r=e.misc.active_task_ids.indexOf(t);le(e.misc.active_task_ids.includes(t)),le(n.worktime.length>0),le(1===n.worktime[n.worktime.length-1].length),n.worktime[n.worktime.length-1].push((new Date).toJSON()),ct(e,t),e.misc.active_task_ids.splice(r,1)}function Ft(e){e.misc.active_task_ids.forEach((function(t){Ht(e,t)}))}function zt(e,t,n){var r=vn(e,t);le(Number.isFinite(n)&&n>=0),r.estimated_time=n,ct(e,t)}function Vt(e,t){vn(e,t).estimated_time=null,ct(e,t)}function qt(e,t){return vn(e,t).status}function Kt(e){throw new Error("Not implemented!")}function Xt(e){throw new Error("Not implemented!")}function Qt(e,t,n){var r=vn(e,t);le(it.includes(n));var a=r.status;le(n!==a);var o=(new Date).toJSON();if("open"===a){if("done"===n)r.date_done=o;else if("removed"===n)r.date_removed=o;else{if("archived"!==n)throw new Error("Unknown status: "+n);r.date_archived=o}r.date_opened=null,r.status=n}else if("done"===a){if("open"===n)r.date_opened=o;else if("removed"===n)r.date_removed=o;else{if("archived"!==n)throw new Error("Unknown status: "+n);r.date_archived=o}r.date_done=null,r.status=n}else if("removed"===a){if("open"===n)r.date_opened=o;else if("done"===n)r.date_done=o;else{if("archived"!==n)throw new Error("Unknown status: "+n);r.date_archived=o}r.date_opened=null,r.status=n}else{if("archived"!==a)throw new Error("Unknown current status: "+a);if("open"===n)r.date_opened=o;else if("done"===n)r.date_done=o;else{if("removed"!==n)throw new Error("Unknown status: "+n);r.date_removed=o}r.date_archived=null,r.status=n}ct(e,t)}function Yt(e){return e.misc.active_task_ids}function Zt(e,t){return vn(e,t).dependents}function $t(e,t){return vn(e,t).dependencies}function en(e){return e.misc.active_task_ids.map((function(t){return vn(e,t)}))}function tn(e,t){return null!==vn(e,t).date_due}function nn(e,t){return vn(e,t).date_due}function rn(e,t){return"done"===vn(e,t).status}function an(e,t){return"done"===vn(e,t).status}function on(e,t){return vn(e,t).date_done}function sn(e,t){return"removed"===vn(e,t).status}function cn(e,t){return vn(e,t).date_removed}function un(e,t){return"archived"===vn(e,t).status}function ln(e,t){return vn(e,t).date_archived}function dn(e,t){return null!==vn(e,t).estimated_time}function fn(e,t){return vn(e,t).estimated_time}function mn(e,t){return!!de(e.entities,t)&&"task"===e.entities[t].type}function pn(e,t){return!!de(e.entities,t)&&"task"===e.entities[t].type}function vn(e,t){le(de(e.entities,t));var n=e.entities[t];return le("task"===n.type),n}function hn(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0}var gn={common:r,calendar:a,dependency:o,event:i,link:s,note:c,poset:u,reminder:l,task:d},kn=gn;function bn(e){N("object"===typeof e&&null!==e),gn.common.verifyState(e,!0)||gn.common.setup(e);var t=e,n=function(e){return function(){var n=gn.common.beginTransaction(t),r=e.apply(void 0,arguments);return gn.common.endTransaction(t,n),r}};return{calendar:{getCalendar:gn.calendar.getCalendar.bind(null,t)},common:{doExport:gn.common.doExport.bind(null,t),doImport:n(gn.common.doImport.bind(null,t))},dependency:{},event:{},link:{},note:{getNote:gn.note.getNote.bind(null,t),changeText:n(gn.note.changeText.bind(null,t)),createNote:n(gn.note.createNote.bind(null,t))},poset:{},reminder:{},task:{getActiveTaskIDs:gn.task.getActiveTaskIDs.bind(null,t),getActiveTasks:gn.task.getActiveTasks.bind(null,t),getDescendantIDs:gn.task.getDescendantIDs.bind(null,t),getPossibleDependencyIDs:gn.task.getPossibleDependencyIDs.bind(null,t),getPossibleDependentIDs:gn.task.getPossibleDependentIDs.bind(null,t),getSelfEstimatedTime:gn.task.getSelfEstimatedTime.bind(null,t),getTask:gn.task.getTask.bind(null,t),getTaskDependencyIDs:gn.task.getTaskDependencyIDs.bind(null,t),getTaskDependentIDs:gn.task.getTaskDependentIDs.bind(null,t),getTaskSelfWorktime:gn.task.getTaskSelfWorktime.bind(null,t),getTaskTotalWorktime:gn.task.getTaskTotalWorktime.bind(null,t),getTotalDependencyGraph:gn.task.getTotalDependencyGraph.bind(null,t),getTotalEstimatedTime:gn.task.getTotalEstimatedTime.bind(null,t),isTask:gn.task.isTask.bind(null,t),isTaskActive:gn.task.isTaskActive.bind(null,t),listTaskIDs:gn.task.listTaskIDs.bind(null,t),listTasks:gn.task.listTasks.bind(null,t),getComment:gn.task.getComment.bind(null,t),hasDueDate:gn.task.hasDueDate.bind(null,t),getDueDate:gn.task.getDueDate.bind(null,t),isDone:gn.task.isDone.bind(null,t),getDateDone:gn.task.getDateDone.bind(null,t),isRemoved:gn.task.isRemoved.bind(null,t),getDateRemoved:gn.task.getDateRemoved.bind(null,t),isArchived:gn.task.isArchived.bind(null,t),getDateArchived:gn.task.getDateArchived.bind(null,t),hasEstimatedTime:gn.task.hasEstimatedTime.bind(null,t),getEstimatedTime:gn.task.getEstimatedTime.bind(null,t),isOpen:gn.task.isOpen.bind(null,t),hasTask:gn.task.hasTask.bind(null,t),addComment:n(gn.task.addComment.bind(null,t)),addDependency:n(gn.task.addDependency.bind(null,t)),addDependent:n(gn.task.addDependent.bind(null,t)),addTag:n(gn.task.addTag.bind(null,t)),archiveTask:n(gn.task.archiveTask.bind(null,t)),changeComment:n(gn.task.changeComment.bind(null,t)),changeDescription:n(gn.task.changeDescription.bind(null,t)),changeDueDate:n(gn.task.changeDueDate.bind(null,t)),changeEstimatedTime:n(gn.task.changeEstimatedTime.bind(null,t)),changePriority:n(gn.task.changePriority.bind(null,t)),createTask:n(gn.task.createTask.bind(null,t)),deleteTask:n(gn.task.deleteTask.bind(null,t)),finishTask:n(gn.task.finishTask.bind(null,t)),openTask:n(gn.task.openTask.bind(null,t)),removeComment:n(gn.task.removeComment.bind(null,t)),removeDependency:n(gn.task.removeDependency.bind(null,t)),removeDependent:n(gn.task.removeDependent.bind(null,t)),removeDueDate:n(gn.task.removeDueDate.bind(null,t)),removeEstimatedTime:n(gn.task.removeEstimatedTime.bind(null,t)),removeTag:n(gn.task.removeTag.bind(null,t)),removeTask:n(gn.task.removeTask.bind(null,t)),rewindTask:n(gn.task.rewindTask.bind(null,t)),startTask:n(gn.task.startTask.bind(null,t)),stopAllTasks:n(gn.task.stopAllTasks.bind(null,t)),stopTask:n(gn.task.stopTask.bind(null,t)),reorderDependents:n(gn.task.reorderDependents.bind(null,t)),reorderDependencies:n(gn.task.reorderDependencies.bind(null,t))}}}function yn(e){return En.apply(this,arguments)}function En(){return(En=Object(p.a)(m.a.mark((function e(t){var n,r,a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue(t,{transactional:!0}),e.next=3,new Promise((function(e,t){n.addEventListener("ready",(function(t){e()}))}));case 3:return n.addEventListener("beforeaddchange",(function(e){N("beforeaddchange"===e.type);var t=e.change;"set"===t.type&&"/transaction"===t.jsonPointer&&")"===t.value[0]&&n.beginTransaction()})),n.addEventListener("afteraddchange",(function(e){N("afteraddchange"===e.type);var t=e.change;"set"===t.type&&"/transaction"===t.jsonPointer&&"("===t.value[0]&&n.endTransaction()})),r=n.object,N("object"===typeof(a=n.proxy)&&null!==a),N("object"===typeof r&&null!==r),window.state_proxy=a,window.state=r,gn.common.verifyState(a),o=bn(a),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(51);function _n(){return(_n=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"testdb",e.next=3,yn("testdb");case 3:t=e.sent,window.gtm=t,n=ie("gtm:/home"),k.a.render(h.a.createElement(oe,{navi:n,gtm:t}),document.getElementById("root"));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return _n.apply(this,arguments)})().catch((function(e){throw console.error(e),new Error(e)}))}]),[[19,1,2]]]);
//# sourceMappingURL=main.a81beff4.chunk.js.map